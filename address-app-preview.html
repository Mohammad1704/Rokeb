<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Address App Design System Preview</title>
    <!-- Add font support for multiple languages -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&family=Noto+Sans+Bengali:wght@400;500;600;700&family=Noto+Sans+Arabic:wght@400;500;600;700&family=Noto+Nastaliq+Urdu:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/address-app.css">
    <link rel="stylesheet" href="styles/icons.css">
    <link rel="stylesheet" href="styles/header.css">
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <button class="language-btn active" data-lang="en" onclick="switchLanguage('en')">EN</button>
        <button class="language-btn" data-lang="bn" onclick="switchLanguage('bn')">বাংলা</button>
        <button class="language-btn" data-lang="ur" onclick="switchLanguage('ur')">اردو</button>
        <button class="language-btn" data-lang="hi" onclick="switchLanguage('hi')">हिंदी</button>
        <button class="language-btn" data-lang="ar" onclick="switchLanguage('ar')">العربية</button>
    </div>

    <!-- Main Navigation -->
    <div class="demo-nav">
        <div class="demo-nav-inner">
            <div class="demo-logo">
                <a href="address-app-preview.html">AddressBook</a>
            </div>
            <button class="burger-menu" aria-label="Toggle menu" onclick="toggleMenu()">
                <div class="burger-line"></div>
                <div class="burger-line"></div>
                <div class="burger-line"></div>
            </button>
            <div class="demo-menu" id="mobileMenu">
                <a href="address-app-preview.html" class="demo-menu-item">Home</a>
                <a href="#" class="demo-menu-item active">My Addresses</a>
                <a href="#" class="demo-menu-item">Settings</a>
                <a href="/auth/logout" class="demo-menu-item" id="logout-btn">Logout</a>
            </div>
        </div>
    </div>

    <!-- Main Example Section -->
    <div class="address-app-example">
        <h1 class="example-title">Your Saved Addresses</h1>
        
        <!-- Alert Example -->
        <div class="alert alert-success" style="margin-bottom: 24px;">
            <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M8 12l2 2 6-6"></path>
            </svg>
            <div>Your changes have been saved successfully!</div>
        </div>
        
        <!-- Address List -->
        <div class="address-list">
            <!-- Address Card 1 -->
            <div class="address-card">
                <div class="address-card-header">
                    <div class="address-name">Home</div>
                    <div class="address-actions">
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24" onclick="showDeliveryView('home-address')">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24" onclick="showShareModal('home-address')">
                            <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                            <polyline points="16 6 12 2 8 6"></polyline>
                            <line x1="12" y1="2" x2="12" y2="15"></line>
                        </svg>
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                    </div>
                </div>
                <div class="address-details">
                    <div class="address-line">John Smith</div>
                    <div class="address-line">123 Main Street, Apt 4B</div>
                    <div class="address-line">New York, NY 10001</div>
                    <div class="address-line">United States</div>
                    <div class="address-line">(212) 555-1234</div>
                </div>
                <div class="delivery-instructions">
                    <div class="delivery-title">Delivery Instructions</div>
                    <div>Please leave package with doorman if not home. Ring bell twice.</div>
                </div>
            </div>
            
            <!-- Address Card 2 -->
            <div class="address-card">
                <div class="address-card-header">
                    <div class="address-name">Work</div>
                    <div class="address-actions">
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24" onclick="showDeliveryView('work-address')">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24" onclick="showShareModal('work-address')">
                            <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                            <polyline points="16 6 12 2 8 6"></polyline>
                            <line x1="12" y1="2" x2="12" y2="15"></line>
                        </svg>
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                    </div>
                </div>
                <div class="address-details">
                    <div class="address-line">John Smith</div>
                    <div class="address-line">456 Business Ave, Floor 22</div>
                    <div class="address-line">New York, NY 10022</div>
                    <div class="address-line">United States</div>
                    <div class="address-line">(212) 555-6789</div>
                </div>
            </div>
            
            <!-- Address Card 3 -->
            <div class="address-card">
                <div class="address-card-header">
                    <div class="address-name">Parents</div>
                    <div class="address-actions">
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24" onclick="showDeliveryView('parents-address')">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24" onclick="showShareModal('parents-address')">
                            <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                            <polyline points="16 6 12 2 8 6"></polyline>
                            <line x1="12" y1="2" x2="12" y2="15"></line>
                        </svg>
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                    </div>
                </div>
                <div class="address-details">
                    <div class="address-line">Robert & Mary Smith</div>
                    <div class="address-line">789 Suburban Drive</div>
                    <div class="address-line">Westchester, NY 10583</div>
                    <div class="address-line">United States</div>
                    <div class="address-line">(914) 555-4321</div>
                </div>
                <div class="delivery-instructions">
                    <div class="delivery-title">Delivery Instructions</div>
                    <div>Leave packages on back porch if no one answers. Do not ring doorbell after 8pm.</div>
                </div>
            </div>
        </div>
        
        <!-- Add Address Button -->
        <button class="btn btn-primary add-address-btn">
            Add New Address
        </button>
    </div>

    <!-- New Address Screen (initially hidden) -->
    <div id="add-address-screen" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: white; z-index: 1000; overflow-y: auto;">
        <div class="demo-nav">
            <div class="demo-nav-inner">
                <div class="demo-logo">AddressBook</div>
                <div style="display: flex; align-items: center; gap: 16px;">
                    <a href="#" id="close-add-address" class="demo-menu-item">Cancel</a>
                </div>
            </div>
        </div>
        
        <div style="max-width: 600px; margin: 30px auto; padding: 0 20px;">
            <h2 style="font-size: var(--heading-1); color: var(--deep-blue); margin-bottom: 24px;">Add New Address</h2>
            
            <!-- Location Button -->
            <button id="locate-me" class="btn btn-secondary" style="width: 100%; margin-bottom: 24px; display: flex; justify-content: center; align-items: center; gap: 8px;">
                <svg class="svg-icon" viewBox="0 0 24 24" style="width: 20px; height: 20px;">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M19.94 11A8 8 0 0 0 13 4.06"></path>
                    <path d="M12 2a10 10 0 0 0-8.94 14h10.88A10 10 0 0 0 12 22Z"></path>
                    <path d="M18 11.05a6 6 0 0 0-6-6"></path>
                </svg>
                Use My Current Location
            </button>
            
            <!-- Location Status -->
            <div id="location-status" class="alert alert-info" style="margin-bottom: 24px; display: none;">
                <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <div>Detecting your location...</div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Address Name</label>
                <input type="text" class="form-input" placeholder="e.g. Home, Work, Mom's House">
            </div>
            
            <div class="form-group">
                <label class="form-label">Full Name</label>
                <input type="text" class="form-input" placeholder="Full name of recipient">
            </div>
            
            <div class="form-group">
                <label class="form-label">Street Address</label>
                <input type="text" id="street-address" class="form-input" placeholder="Street address, P.O. box, company name">
            </div>
            
            <div class="form-group">
                <label class="form-label">Apartment, Suite, etc.</label>
                <input type="text" class="form-input" placeholder="Apartment, suite, unit, building, floor, etc.">
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div class="form-group">
                    <label class="form-label">City</label>
                    <input type="text" id="city" class="form-input" placeholder="City">
                </div>
                
                <div class="form-group">
                    <label class="form-label">State/Province</label>
                    <input type="text" id="state" class="form-input" placeholder="State/Province">
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div class="form-group">
                    <label class="form-label">ZIP/Postal Code</label>
                    <input type="text" id="zip" class="form-input" placeholder="ZIP or postal code">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Country</label>
                    <select id="country" class="form-input">
                        <option>United States</option>
                        <option>Canada</option>
                        <option>United Kingdom</option>
                        <option>Australia</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Phone Number</label>
                <input type="tel" class="form-input" placeholder="Phone number for delivery questions">
            </div>
            
            <div class="form-group">
                <label class="form-label">Delivery Instructions (Optional)</label>
                <div style="margin-bottom: 16px;">
                    <button id="simple-instructions-btn" class="btn btn-text" style="margin-right: 8px; border: 1px solid var(--light-mint); background-color: white;">Simple Text</button>
                    <button id="step-instructions-btn" class="btn btn-text" style="border: 1px solid var(--teal); background-color: var(--light-mint);">Step-by-Step</button>
                </div>
                
                <!-- Simple Text Instructions (hidden by default) -->
                <div id="simple-instructions" style="display: none;">
                    <textarea class="form-input" placeholder="Special instructions for the delivery person" style="min-height: 100px;"></textarea>
                </div>
                
                <!-- Step-by-Step Instructions -->
                <div id="step-instructions">
                    <div class="step-container" style="border: 1px solid var(--light-mint); border-radius: var(--radius-md); padding: 16px; margin-bottom: 16px;">
                        <div style="display: flex; align-items: center; margin-bottom: 12px;">
                            <div style="background-color: var(--deep-blue); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 8px;">1</div>
                            <div style="font-weight: 600;">Step 1</div>
                        </div>
                        <textarea class="form-input" placeholder="Example: Go to street alhlibe to the yellow building" style="margin-bottom: 12px;"></textarea>
                        <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                            <button class="btn btn-text" style="display: flex; align-items: center; border: 1px dashed var(--text-light); padding: 8px 12px; background-color: white;">
                                <svg class="svg-icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px;">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                    <polyline points="21 15 16 10 5 21"></polyline>
                                </svg>
                                Add Image
                            </button>
                            <button class="btn btn-text" style="display: flex; align-items: center; border: 1px dashed var(--text-light); padding: 8px 12px; background-color: white;">
                                <svg class="svg-icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px;">
                                    <polygon points="23 7 16 12 23 17 23 7"></polygon>
                                    <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                                </svg>
                                Add Video
                            </button>
                        </div>
                        <!-- Preview area for media -->
                        <div class="media-preview" style="background-color: var(--warm-gray); border-radius: var(--radius-md); padding: 8px; display: flex; align-items: center; justify-content: center;">
                            <img src="/api/placeholder/300/200" alt="Street with yellow building" style="max-width: 100%; border-radius: var(--radius-sm); display: block;" />
                        </div>
                    </div>
                    
                    <div class="step-container" style="border: 1px solid var(--light-mint); border-radius: var(--radius-md); padding: 16px; margin-bottom: 16px;">
                        <div style="display: flex; align-items: center; margin-bottom: 12px;">
                            <div style="background-color: var(--deep-blue); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 8px;">2</div>
                            <div style="font-weight: 600;">Step 2</div>
                        </div>
                        <textarea class="form-input" placeholder="Example: Go to floor 2 and place the order on door 9" style="margin-bottom: 12px;"></textarea>
                        <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                            <button class="btn btn-text" style="display: flex; align-items: center; border: 1px dashed var(--text-light); padding: 8px 12px; background-color: white;">
                                <svg class="svg-icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px;">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                    <polyline points="21 15 16 10 5 21"></polyline>
                                </svg>
                                Add Image
                            </button>
                            <button class="btn btn-text" style="display: flex; align-items: center; border: 1px dashed var(--text-light); padding: 8px 12px; background-color: white;">
                                <svg class="svg-icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px;">
                                    <polygon points="23 7 16 12 23 17 23 7"></polygon>
                                    <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                                </svg>
                                Add Video
                            </button>
                        </div>
                        <!-- Preview area for media (video thumbnail) -->
                        <div class="media-preview" style="background-color: var(--warm-gray); border-radius: var(--radius-md); padding: 8px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                            <div style="position: relative; width: 100%;">
                                <img src="/api/placeholder/300/200" alt="Building hallway" style="max-width: 100%; border-radius: var(--radius-sm); display: block;" />
                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(0,0,0,0.6); border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                                    <svg class="svg-icon" viewBox="0 0 24 24" style="width: 24px; height: 24px; fill: white; stroke: white;">
                                        <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                    </svg>
                                </div>
                            </div>
                            <div style="color: var(--text-medium); font-size: var(--small); margin-top: 8px;">Video (0:48)</div>
                        </div>
                    </div>
                    
                    <div class="step-container" style="border: 1px solid var(--light-mint); border-radius: var(--radius-md); padding: 16px; margin-bottom: 16px;">
                        <div style="display: flex; align-items: center; margin-bottom: 12px;">
                            <div style="background-color: var(--deep-blue); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 8px;">3</div>
                            <div style="font-weight: 600;">Step 3</div>
                        </div>
                        <textarea class="form-input" placeholder="Example: If it's food, leave it inside the heating box" style="margin-bottom: 12px;"></textarea>
                        <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                            <button class="btn btn-text" style="display: flex; align-items: center; border: 1px dashed var(--text-light); padding: 8px 12px; background-color: white;">
                                <svg class="svg-icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px;">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                    <polyline points="21 15 16 10 5 21"></polyline>
                                </svg>
                                Add Image
                            </button>
                            <button class="btn btn-text" style="display: flex; align-items: center; border: 1px dashed var(--text-light); padding: 8px 12px; background-color: white;">
                                <svg class="svg-icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px;">
                                    <polygon points="23 7 16 12 23 17 23 7"></polygon>
                                    <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                                </svg>
                                Add Video
                            </button>
                        </div>
                        <!-- Preview area for media -->
                        <div class="media-preview" style="background-color: var(--warm-gray); border-radius: var(--radius-md); padding: 8px; display: flex; align-items: center; justify-content: center;">
                            <img src="/api/placeholder/300/200" alt="Heating box" style="max-width: 100%; border-radius: var(--radius-sm); display: block;" />
                        </div>
                    </div>
                    
                    <button id="add-step-btn" class="btn btn-text" style="display: flex; align-items: center; width: 100%; justify-content: center; border: 1px dashed var(--teal); padding: 12px; margin-bottom: 16px;">
                        <svg class="svg-icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px; stroke: var(--teal);">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        Add Another Step
                    </button>
                </div>
            </div>
            
            <div style="margin: 24px 0;">
                <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 16px;">
                    <input type="checkbox" id="default-address" style="width: 18px; height: 18px;">
                    <label for="default-address">Set as default address</label>
                </div>
                
                <div style="display: flex; gap: 10px; align-items: center;">
                    <input type="checkbox" id="save-info" style="width: 18px; height: 18px;">
                    <label for="save-info">Save this information for next time</label>
                </div>
            </div>
            
            <div style="display: flex; gap: 16px; margin-top: 32px; margin-bottom: 40px;">
                <button id="cancel-add-address" class="btn btn-secondary" style="width: 50%;">Cancel</button>
                <button class="btn btn-primary" style="width: 50%;">Save Address</button>
            </div>
        </div>
    </div>
    
    <!-- Add QR Code generator script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <!-- JavaScript to handle UI interactions -->
    <script>
        // QR Code generator
        let qrCode = null;
        
        // Share modal functionality
        function showShareModal(addressId) {
            const modal = document.getElementById('share-modal');
            const shareLink = document.getElementById('share-link');
            const qrContainer = document.getElementById('qr-code-container');
            
            // Update share link based on the address
            const shareUrl = `https://addressapp.com/share/${addressId}`;
            shareLink.value = shareUrl;
            
            // Clear previous QR code if it exists
            qrContainer.innerHTML = '';
            
            // Generate new QR code
            qrCode = new QRCode(qrContainer, {
                text: shareUrl,
                width: 180,
                height: 180,
                colorDark: "#1A5F7A",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
            
            // Show modal
            modal.style.display = 'flex';
        }
        
        // Delivery view functionality
        function showDeliveryView(addressId) {
            const previewScreen = document.getElementById('delivery-preview-screen');
            
            // Set the preview content based on the address ID
            if (addressId === 'home-address') {
                document.getElementById('preview-name').textContent = 'John Smith';
                document.getElementById('preview-phone').textContent = '(212) 555-1234';
                document.getElementById('preview-street').textContent = '123 Main Street, Apt 4B';
                document.getElementById('preview-city-state').textContent = 'New York, NY 10001';
                document.getElementById('preview-country').textContent = 'United States';
                document.getElementById('preview-instructions').textContent = 'Please leave package with doorman if not home. Ring bell twice.';
            } else if (addressId === 'work-address') {
                document.getElementById('preview-name').textContent = 'John Smith';
                document.getElementById('preview-phone').textContent = '(212) 555-6789';
                document.getElementById('preview-street').textContent = '456 Business Ave, Floor 22';
                document.getElementById('preview-city-state').textContent = 'New York, NY 10022';
                document.getElementById('preview-country').textContent = 'United States';
                document.getElementById('preview-instructions').textContent = '';
            } else if (addressId === 'parents-address') {
                document.getElementById('preview-name').textContent = 'Robert & Mary Smith';
                document.getElementById('preview-phone').textContent = '(914) 555-4321';
                document.getElementById('preview-street').textContent = '789 Suburban Drive';
                document.getElementById('preview-city-state').textContent = 'Westchester, NY 10583';
                document.getElementById('preview-country').textContent = 'United States';
                document.getElementById('preview-instructions').textContent = 'Leave packages on back porch if no one answers. Do not ring doorbell after 8pm.';
            }
            
            // Show the preview screen with animation
            previewScreen.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }
        
        // Add close preview function
        function closeDeliveryPreview() {
            const previewScreen = document.getElementById('delivery-preview-screen');
            previewScreen.classList.remove('active');
            document.body.style.overflow = ''; // Restore scrolling
        }
        
        // Close preview when clicking outside
        document.getElementById('delivery-preview-screen').addEventListener('click', function(event) {
            if (event.target === this) {
                closeDeliveryPreview();
            }
        });
        
        // Close preview with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && document.getElementById('delivery-preview-screen').classList.contains('active')) {
                closeDeliveryPreview();
            }
        });
        
        // Add address button functionality
        document.querySelector('.add-address-btn').addEventListener('click', function() {
            document.getElementById('add-address-screen').style.display = 'block';
        });
        
        // Close buttons functionality
        document.getElementById('close-add-address').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('add-address-screen').style.display = 'none';
        });
        
        document.getElementById('cancel-add-address').addEventListener('click', function() {
            document.getElementById('add-address-screen').style.display = 'none';
        });
        
        // Close share modal
        document.getElementById('close-share-modal').addEventListener('click', function() {
            document.getElementById('share-modal').style.display = 'none';
        });
        
        // Geolocation functionality
        document.getElementById('locate-me').addEventListener('click', function() {
            const statusEl = document.getElementById('location-status');
            statusEl.style.display = 'flex';
            statusEl.innerHTML = `
                <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <div>Detecting your location...</div>
            `;
            
            // Simulate geolocation API with a timeout
            setTimeout(() => {
                // Simulate successful location
                document.getElementById('street-address').value = '789 Broadway';
                document.getElementById('city').value = 'New York';
                document.getElementById('state').value = 'NY';
                document.getElementById('zip').value = '10003';
                document.getElementById('country').value = 'United States';
                
                // Update status message
                statusEl.className = 'alert alert-success';
                statusEl.innerHTML = `
                    <svg class="address-icon svg-icon" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M8 12l2 2 6-6"></path>
                    </svg>
                    <div>Location detected successfully!</div>
                `;
                
                // Hide status after 3 seconds
                setTimeout(() => {
                    statusEl.style.display = 'none';
                }, 3000);
            }, 2000);
        });
        
        // Instructions toggle functionality
        document.getElementById('simple-instructions-btn').addEventListener('click', function() {
            document.getElementById('simple-instructions').style.display = 'block';
            document.getElementById('step-instructions').style.display = 'none';
            
            // Update button styles
            this.style.borderColor = 'var(--teal)';
            this.style.backgroundColor = 'var(--light-mint)';
            document.getElementById('step-instructions-btn').style.borderColor = 'var(--light-mint)';
            document.getElementById('step-instructions-btn').style.backgroundColor = 'white';
        });
        
        document.getElementById('step-instructions-btn').addEventListener('click', function() {
            document.getElementById('simple-instructions').style.display = 'none';
            document.getElementById('step-instructions').style.display = 'block';
            
            // Update button styles
            this.style.borderColor = 'var(--teal)';
            this.style.backgroundColor = 'var(--light-mint)';
            document.getElementById('simple-instructions-btn').style.borderColor = 'var(--light-mint)';
            document.getElementById('simple-instructions-btn').style.backgroundColor = 'white';
        });
        
        // Add step functionality
        document.getElementById('add-step-btn').addEventListener('click', function() {
            const stepContainers = document.querySelectorAll('.step-container');
            const newStepNumber = stepContainers.length + 1;
            
            const newStep = document.createElement('div');
            newStep.className = 'step-container';
            newStep.style.cssText = 'border: 1px solid var(--light-mint); border-radius: var(--radius-md); padding: 16px; margin-bottom: 16px;';
            
            newStep.innerHTML = `
                <div style="display: flex; align-items: center; margin-bottom: 12px;">
                    <div style="background-color: var(--deep-blue); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 8px;">${newStepNumber}</div>
                    <div style="font-weight: 600;">Step ${newStepNumber}</div>
                </div>
                <textarea class="form-input" placeholder="Enter instructions for this step" style="margin-bottom: 12px;"></textarea>
                <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                    <button class="btn btn-text" style="display: flex; align-items: center; border: 1px dashed var(--text-light); padding: 8px 12px; background-color: white;">
                        <svg class="svg-icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px;">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <circle cx="8.5" cy="8.5" r="1.5"></circle>
                            <polyline points="21 15 16 10 5 21"></polyline>
                        </svg>
                        Add Image
                    </button>
                    <button class="btn btn-text" style="display: flex; align-items: center; border: 1px dashed var(--text-light); padding: 8px 12px; background-color: white;">
                        <svg class="svg-icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px;">
                            <polygon points="23 7 16 12 23 17 23 7"></polygon>
                            <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                        </svg>
                        Add Video
                    </button>
                </div>
            `;
            
            // Insert before the "Add Another Step" button
            this.parentNode.insertBefore(newStep, this);
        });
        
        // Copy share link
        function copyShareLink() {
            const shareLink = document.getElementById('share-link');
            shareLink.select();
            document.execCommand('copy');
            
            // Show feedback
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `
                <svg class="svg-icon" viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                <span>Link copied to clipboard!</span>
            `;
            document.body.appendChild(toast);
            
            // Remove toast after 3 seconds
            setTimeout(() => {
                document.body.removeChild(toast);
            }, 3000);
        }
        
        // Close modal if clicking outside
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('share-modal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });
        
        // Download QR code
        function downloadQRCode() {
            const canvas = document.querySelector('#qr-code-container canvas');
            if (canvas) {
                const image = canvas.toDataURL("image/png");
                const link = document.createElement('a');
                link.href = image;
                link.download = `address-qr-code.png`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }

        // Initialize instructions mode - start with step-by-step by default
        document.getElementById('simple-instructions').style.display = 'none';
        document.getElementById('step-instructions').style.display = 'block';

        // Auth Screen Functions
        function showLogin() {
            document.getElementById('login-screen').style.display = 'block';
            document.getElementById('signup-screen').style.display = 'none';
            document.getElementById('forgot-password-screen').style.display = 'none';
        }

        function showSignup() {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('signup-screen').style.display = 'block';
            document.getElementById('forgot-password-screen').style.display = 'none';
        }

        function showForgotPassword() {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('signup-screen').style.display = 'none';
            document.getElementById('forgot-password-screen').style.display = 'block';
        }

        // Show login screen by default
        window.addEventListener('load', function() {
            showLogin();
        });

        // Handle form submissions
        document.querySelectorAll('.auth-form').forEach(form => {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                // Here you would typically handle the form submission
                // For now, we'll just show a success message
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.innerHTML = `
                    <svg class="svg-icon" viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                    <span>Form submitted successfully!</span>
                `;
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 3000);
            });
        });

        // Language translations
        const translations = {
            en: {
                welcome: "Welcome Back",
                signIn: "Sign in to continue to AddressBook",
                email: "Email",
                password: "Password",
                forgotPassword: "Forgot password?",
                signInBtn: "Sign In",
                noAccount: "Don't have an account?",
                signUp: "Sign up",
                createAccount: "Create Account",
                joinToday: "Join AddressBook today",
                fullName: "Full Name",
                confirmPassword: "Confirm Password",
                createAccountBtn: "Create Account",
                haveAccount: "Already have an account?",
                signInLink: "Sign in",
                resetPassword: "Reset Password",
                resetInstructions: "Enter your email to reset your password",
                sendResetLink: "Send Reset Link",
                rememberPassword: "Remember your password?",
                yourAddresses: "Your Saved Addresses",
                changesSaved: "Your changes have been saved successfully!",
                home: "Home",
                work: "Work",
                parents: "Parents",
                addNewAddress: "Add New Address",
                deliveryInstructions: "Delivery Instructions",
                leaveWithDoorman: "Please leave package with doorman if not home. Ring bell twice.",
                leaveOnPorch: "Leave packages on back porch if no one answers. Do not ring doorbell after 8pm.",
                "or": "or",
                "enterEmail": "Enter your email",
                "enterPassword": "Enter your password",
                "dontHaveAccount": "Don't have an account?",
                "signUp": "Sign up",
                "googleSignIn": "Sign in with Google",
                "facebookSignIn": "Sign in with Facebook"
            },
            bn: {
                welcome: "আবার স্বাগতম",
                signIn: "AddressBook এ প্রবেশ করতে সাইন ইন করুন",
                email: "ইমেইল",
                password: "পাসওয়ার্ড",
                forgotPassword: "পাসওয়ার্ড ভুলে গেছেন?",
                signInBtn: "সাইন ইন",
                noAccount: "অ্যাকাউন্ট নেই?",
                signUp: "সাইন আপ",
                createAccount: "অ্যাকাউন্ট তৈরি করুন",
                joinToday: "আজই AddressBook এ যোগ দিন",
                fullName: "পূর্ণ নাম",
                confirmPassword: "পাসওয়ার্ড নিশ্চিত করুন",
                createAccountBtn: "অ্যাকাউন্ট তৈরি করুন",
                haveAccount: "অ্যাকাউন্ট আছে?",
                signInLink: "সাইন ইন",
                resetPassword: "পাসওয়ার্ড রিসেট",
                resetInstructions: "পাসওয়ার্ড রিসেট করতে আপনার ইমেইল দিন",
                sendResetLink: "রিসেট লিংক পাঠান",
                rememberPassword: "পাসওয়ার্ড মনে আছে?",
                yourAddresses: "আপনার সংরক্ষিত ঠিকানা",
                changesSaved: "আপনার পরিবর্তনগুলি সফলভাবে সংরক্ষিত হয়েছে!",
                home: "বাড়ি",
                work: "কাজ",
                parents: "পিতামাতা",
                addNewAddress: "নতুন ঠিকানা যোগ করুন",
                deliveryInstructions: "ডেলিভারি নির্দেশনা",
                leaveWithDoorman: "বাড়িতে না থাকলে দরজার রক্ষকের কাছে প্যাকেজ রেখে দিন। দুবার বেল বাজান।",
                leaveOnPorch: "কেউ উত্তর না দিলে পিছনের বারান্দায় প্যাকেজ রেখে দিন। রাত ৮টার পর বেল বাজাবেন না।",
                "or": "অথবা",
                "enterEmail": "আপনার ইমেইল লিখুন",
                "enterPassword": "আপনার পাসওয়ার্ড লিখুন",
                "signUp": "Sign up",
                "googleSignIn": "Google দিয়ে সাইন ইন করুন",
                "facebookSignIn": "Facebook দিয়ে সাইন ইন করুন"
            },
            ur: {
                welcome: "دوبارہ خوش آمدید",
                signIn: "AddressBook میں داخل ہونے کے لیے سائن ان کریں",
                email: "ای میل",
                password: "پاس ورڈ",
                forgotPassword: "پاس ورڈ بھول گئے؟",
                signInBtn: "سائن ان",
                noAccount: "اکاؤنٹ نہیں ہے؟",
                signUp: "سائن اپ",
                createAccount: "اکاؤنٹ بنائیں",
                joinToday: "آج ہی AddressBook میں شامل ہوں",
                fullName: "مکمل نام",
                confirmPassword: "پاس ورڈ کی تصدیق کریں",
                createAccountBtn: "اکاؤنٹ بنائیں",
                haveAccount: "پہلے سے اکاؤنٹ ہے؟",
                signInLink: "سائن ان",
                resetPassword: "پاس ورڈ ری سیٹ",
                resetInstructions: "پاس ورڈ ری سیٹ کرنے کے لیے اپنی ای میل درج کریں",
                sendResetLink: "ری سیٹ لنک بھیجیں",
                rememberPassword: "پاس ورڈ یاد ہے؟",
                yourAddresses: "آپ کے محفوظ پتے",
                changesSaved: "آپ کی تبدیلیاں کامیابی سے محفوظ ہو گئی ہیں!",
                home: "گھر",
                work: "دفتر",
                parents: "والدین",
                addNewAddress: "نیا پتہ شامل کریں",
                deliveryInstructions: "ڈیلیوری کی ہدایات",
                leaveWithDoorman: "گھر پر نہ ہونے کی صورت میں ڈور مین کے پاس پیکیج چھوڑ دیں۔ دو بار گھنٹی بجائیں۔",
                leaveOnPorch: "کوئی جواب نہ دینے پر پچھلی وارنڈا پر پیکیج چھوڑ دیں۔ رات 8 بجے کے بعد گھنٹی نہ بجائیں۔",
                "or": "یا",
                "enterEmail": "اپنا ای میل درج کریں",
                "enterPassword": "اپنا پاس ورڈ درج کریں",
                "signUp": "سائن اپ",
                "googleSignIn": "Google کے ساتھ سائن ان کریں",
                "facebookSignIn": "Facebook کے ساتھ سائن ان کریں"
            },
            hi: {
                welcome: "वापस आने पर स्वागत है",
                signIn: "AddressBook में प्रवेश करने के लिए साइन इन करें",
                email: "ईमेल",
                password: "पासवर्ड",
                forgotPassword: "पासवर्ड भूल गए?",
                signInBtn: "साइन इन",
                noAccount: "खाता नहीं है?",
                signUp: "साइन अप",
                createAccount: "खाता बनाएं",
                joinToday: "आज ही AddressBook में शामिल हों",
                fullName: "पूरा नाम",
                confirmPassword: "पासवर्ड की पुष्टि करें",
                createAccountBtn: "खाता बनाएं",
                haveAccount: "पहले से खाता है?",
                signInLink: "साइन इन",
                resetPassword: "पासवर्ड रीसेट",
                resetInstructions: "पासवर्ड रीसेट करने के लिए अपना ईमेल दर्ज करें",
                sendResetLink: "रीसेट लिंक भेजें",
                rememberPassword: "पासवर्ड याद है?",
                yourAddresses: "आपके सहेजे गए पते",
                changesSaved: "आपके परिवर्तन सफलतापूर्वक सहेजे गए हैं!",
                home: "घर",
                work: "कार्यालय",
                parents: "माता-पिता",
                addNewAddress: "नया पता जोड़ें",
                deliveryInstructions: "डिलीवरी निर्देश",
                leaveWithDoorman: "घर पर न होने की स्थिति में दरबान के पास पैकेज छोड़ दें। दो बार घंटी बजाएं।",
                leaveOnPorch: "कोई जवाब न देने पर पिछली बरामदे पर पैकेज छोड़ दें। रात 8 बजे के बाद घंटी न बजाएं।",
                "or": "या",
                "enterEmail": "अपना ईमेल दर्ज करें",
                "enterPassword": "अपना पासवर्ड दर्ज करें",
                "signUp": "साइन अप",
                "googleSignIn": "Google से साइन इन करें",
                "facebookSignIn": "Facebook से साइन इन करें"
            },
            ar: {
                welcome: "مرحباً بعودتك",
                signIn: "سجل دخول للوصول إلى AddressBook",
                email: "البريد الإلكتروني",
                password: "كلمة المرور",
                forgotPassword: "نسيت كلمة المرور؟",
                signInBtn: "تسجيل الدخول",
                noAccount: "ليس لديك حساب؟",
                signUp: "إنشاء حساب",
                createAccount: "إنشاء حساب",
                joinToday: "انضم إلى AddressBook اليوم",
                fullName: "الاسم الكامل",
                confirmPassword: "تأكيد كلمة المرور",
                createAccountBtn: "إنشاء حساب",
                haveAccount: "لديك حساب بالفعل؟",
                signInLink: "تسجيل الدخول",
                resetPassword: "إعادة تعيين كلمة المرور",
                resetInstructions: "أدخل بريدك الإلكتروني لإعادة تعيين كلمة المرور",
                sendResetLink: "إرسال رابط إعادة التعيين",
                rememberPassword: "تذكرت كلمة المرور؟",
                yourAddresses: "عناوينك المحفوظة",
                changesSaved: "تم حفظ تغييراتك بنجاح!",
                home: "المنزل",
                work: "العمل",
                parents: "الوالدان",
                addNewAddress: "إضافة عنوان جديد",
                deliveryInstructions: "تعليمات التوصيل",
                leaveWithDoorman: "اترك الطرد مع البواب إذا لم يكن أحد في المنزل. اضغط على الجرس مرتين.",
                leaveOnPorch: "اترك الطرود على الشرفة الخلفية إذا لم يرد أحد. لا تضغط على الجرس بعد الساعة 8 مساءً.",
                "or": "أو",
                "enterEmail": "أدخل بريدك الإلكتروني",
                "enterPassword": "أدخل كلمة المرور",
                "dontHaveAccount": "ليس لديك حساب؟",
                "signUp": "إنشاء حساب",
                "googleSignIn": "تسجيل الدخول باستخدام Google",
                "facebookSignIn": "تسجيل الدخول باستخدام Facebook"
            }
        };

        // External API translation function using Azure Translator
        async function translateWithAPI(text, targetLang) {
            const endpoint = 'https://api.cognitive.microsofttranslator.com/';
            const apiKey = 'Fup1pHP76wmYwWPtYCiUcvlzl9OuDHxNW17GkJpnMct35CZWlnL8JQQJ99BDACfhMk5XJ3w3AAAbACOGhlKM';
            const location = 'swedencentral';

            try {
                const response = await fetch(
                    `${endpoint}/translate?api-version=3.0&to=${targetLang}`, {
                        method: 'POST',
                        headers: {
                            'Ocp-Apim-Subscription-Key': apiKey,
                            'Ocp-Apim-Subscription-Region': location,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify([{
                            text: text
                        }])
                    }
                );

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                if (data && data[0] && data[0].translations && data[0].translations[0]) {
                    return data[0].translations[0].text;
                }

                // Fallback to local translations if API fails
                if (translations[targetLang] && translations[targetLang][text]) {
                    console.log('Using local translation fallback');
                    return translations[targetLang][text];
                }

                return text;
            } catch (error) {
                console.error('Azure Translation API error:', error);
                
                // Fallback to local translations if API fails
                if (translations[targetLang] && translations[targetLang][text]) {
                    console.log('Using local translation fallback after API error');
                    return translations[targetLang][text];
                }
                return text;
            }
        }

        // Update language codes for Azure Translator
        const languageMapping = {
            'en': 'en',
            'bn': 'bn-BD',  // Bengali (Bangladesh)
            'ur': 'ur',     // Urdu
            'hi': 'hi',     // Hindi
            'ar': 'ar'      // Arabic
        };

        // Cache for API translations to avoid redundant calls
        const translationCache = {};

        // Get translation with caching
        async function getTranslation(text, lang) {
            const cacheKey = `${text}_${lang}`;
            
            // Check if translation is in cache
            if (translationCache[cacheKey]) {
                return translationCache[cacheKey];
            }
            
            // Not in cache, get from API
            const translation = await translateWithAPI(text, lang);
            
            // Cache the result
            translationCache[cacheKey] = translation;
            
            return translation;
        }

        // Updated language switching with Azure Translator
        async function switchLanguage(lang) {
            console.log("Switching to language:", lang);
            
            // Show loading indicator
            const loadingIndicator = document.createElement('div');
            loadingIndicator.id = 'translation-loading';
            loadingIndicator.style.cssText = 'position:fixed;top:80px;right:16px;background:rgba(0,0,0,0.7);color:white;padding:8px 16px;border-radius:4px;z-index:9999;';
            loadingIndicator.textContent = 'Translating...';
            document.body.appendChild(loadingIndicator);
            
            // Update document language and direction
            document.documentElement.lang = lang;
            document.documentElement.dir = ['ar', 'ur'].includes(lang) ? 'rtl' : 'ltr';
            
            // Update active language button
            document.querySelectorAll('.language-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });

            try {
                // Collect all translatable elements
                const translatableElements = document.querySelectorAll('[data-translate]');
                
                // Translate all elements with Azure API
                const translationPromises = [];
                
                translatableElements.forEach(element => {
                    const key = element.dataset.translate;
                    
                    // Skip translation if the source text is empty
                    if (!key) return;
                    
                    // Add to promises
                    const translationPromise = getTranslation(key, languageMapping[lang] || lang).then(translatedText => {
                        element.textContent = translatedText;
                    });
                    
                    translationPromises.push(translationPromise);
                });
                
                // Handle placeholder translations
                const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
                
                placeholderElements.forEach(element => {
                    const key = element.dataset.translatePlaceholder;
                    
                    // Skip translation if the source text is empty
                    if (!key) return;
                    
                    // Add to promises
                    const translationPromise = getTranslation(key, languageMapping[lang] || lang).then(translatedText => {
                        element.placeholder = translatedText;
                    });
                    
                    translationPromises.push(translationPromise);
                });
                
                // Wait for all translations to complete
                await Promise.all(translationPromises);
                
                // Update layout direction for RTL languages
                const container = document.querySelector('.auth-container');
                if (container) {
                    container.style.textAlign = ['ar', 'ur'].includes(lang) ? 'right' : 'left';
                }

                // Apply language-specific font family
                document.body.setAttribute('lang', lang);
                
            } catch (error) {
                console.error('Error during language switch:', error);
                // Show error message to user
                const errorToast = document.createElement('div');
                errorToast.style.cssText = 'position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(231,76,60,0.9);color:white;padding:12px 24px;border-radius:4px;z-index:9999;';
                errorToast.textContent = 'Translation failed. Please try again later.';
                document.body.appendChild(errorToast);
                setTimeout(() => errorToast.remove(), 5000);
            } finally {
                // Remove loading indicator
                document.body.removeChild(loadingIndicator);
            }
        }

        // Add data-translate attributes to elements when the DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Add unique keys to all elements that need translation
            const elementsToTranslate = [
                { selector: '#login-screen .auth-title', key: 'welcome' },
                { selector: '#login-screen .auth-subtitle', key: 'signIn' },
                { selector: 'label[for="email"]', key: 'email' },
                { selector: 'label[for="password"]', key: 'password' },
                { selector: '.forgot-password a', key: 'forgotPassword' },
                { selector: '#login-screen .auth-btn', key: 'signInBtn' },
                { selector: '#login-screen .auth-switch a', key: 'signUp' },
                { selector: '#signup-screen .auth-title', key: 'createAccount' },
                { selector: '#signup-screen .auth-subtitle', key: 'joinToday' },
                { selector: 'label[for="fullName"]', key: 'fullName' },
                { selector: 'label[for="confirmPassword"]', key: 'confirmPassword' },
                { selector: '#signup-screen .auth-btn', key: 'createAccountBtn' },
                { selector: '#signup-screen .auth-switch a', key: 'signInLink' },
                { selector: '#forgot-password-screen .auth-title', key: 'resetPassword' },
                { selector: '#forgot-password-screen .auth-subtitle', key: 'resetInstructions' },
                { selector: '#forgot-password-screen .auth-btn', key: 'sendResetLink' },
                { selector: '#forgot-password-screen .auth-switch a', key: 'signInLink' },
                { selector: '.example-title', key: 'yourAddresses' },
                { selector: '.address-name', key: 'home' },
                { selector: '.add-address-btn', key: 'addNewAddress' }
            ];
            
            // Set data-translate attributes
            elementsToTranslate.forEach(item => {
                const element = document.querySelector(item.selector);
                if (element) {
                    element.setAttribute('data-translate', item.key);
                }
            });
            
            // Set text content for elements that need special handling
            const noAccount = document.querySelector('#login-screen .auth-switch');
            if (noAccount) {
                noAccount.firstChild.textContent = '';
                const textNode = document.createTextNode(translations.en.noAccount + ' ');
                noAccount.insertBefore(textNode, noAccount.firstChild);
            }
            
            // Initialize with English
            switchLanguage('en');
        });
        
        // Instructions for implementing a real translation API:
        /*
        To use Google Cloud Translation API:
        1. Create a Google Cloud account and project
        2. Enable the Cloud Translation API
        3. Create an API key with appropriate restrictions
        4. Replace the mock API call with something like:
        
        async function translateWithAPI(text, targetLang) {
            const apiKey = 'YOUR_API_KEY';
            try {
                const response = await fetch(
                    `https://translation.googleapis.com/language/translate/v2?key=${apiKey}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            q: text,
                            target: targetLang,
                            format: 'text'
                        })
                    }
                );
                
                const data = await response.json();
                if (data.data && data.data.translations && data.data.translations.length > 0) {
                    return data.data.translations[0].translatedText;
                }
                return text;
            } catch (error) {
                console.error('Translation API error:', error);
                return text;
            }
        }
        */

        // Add this at the beginning of your script section
        function generatePlaceholderImage(width, height, text = '') {
            const canvas = document.createElement('canvas');
            canvas.width = width;
            canvas.height = height;
            const ctx = canvas.getContext('2d');
            
            // Draw background
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(0, 0, width, height);
            
            // Draw border
            ctx.strokeStyle = '#dee2e6';
            ctx.lineWidth = 2;
            ctx.strokeRect(1, 1, width - 2, height - 2);
            
            // Draw text
            ctx.fillStyle = '#6c757d';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(text || `${width}x${height}`, width/2, height/2);
            
            return canvas.toDataURL();
        }

        // Replace all placeholder images when the page loads
        window.addEventListener('load', function() {
            document.querySelectorAll('img[src^="/api/placeholder/"]').forEach(img => {
                const [width, height] = img.src.split('/').slice(-2);
                img.src = generatePlaceholderImage(parseInt(width), parseInt(height), img.alt);
            });
        });

        // Burger Menu functionality
        function toggleMenu() {
            const burgerMenu = document.querySelector('.burger-menu');
            const mobileMenu = document.getElementById('mobileMenu');
            const body = document.body;

            burgerMenu.classList.toggle('open');
            mobileMenu.classList.toggle('open');
            
            // Prevent body scrolling when menu is open
            if (mobileMenu.classList.contains('open')) {
                body.style.overflow = 'hidden';
            } else {
                body.style.overflow = '';
            }
        }

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const burgerMenu = document.querySelector('.burger-menu');
            const mobileMenu = document.getElementById('mobileMenu');
            const isClickInside = mobileMenu.contains(event.target) || burgerMenu.contains(event.target);
            
            if (!isClickInside && mobileMenu.classList.contains('open')) {
                burgerMenu.classList.remove('open');
                mobileMenu.classList.remove('open');
                body.style.overflow = '';
            }
        });

        // Close menu when clicking menu items
        document.querySelectorAll('.demo-menu-item').forEach(item => {
            item.addEventListener('click', function() {
                burgerMenu.classList.remove('open');
                mobileMenu.classList.remove('open');
                body.style.overflow = '';
            });
        });

        // Handle escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const burgerMenu = document.querySelector('.burger-menu');
                const mobileMenu = document.getElementById('mobileMenu');
                
                if (mobileMenu.classList.contains('open')) {
                    burgerMenu.classList.remove('open');
                    mobileMenu.classList.remove('open');
                    body.style.overflow = '';
                }
            }
        });
    </script>
</body>
</html>
